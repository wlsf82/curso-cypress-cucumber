# IntegraÃ§Ã£o ContÃ­nua

A integraÃ§Ã£o contÃ­nua Ã© uma prÃ¡tica de desenvolvimento de software onde membros de uma equipe integram seu cÃ³digo frequentemente, geralmente cada um fazendo ao menos uma integraÃ§Ã£o diÃ¡ria, o que leva a mÃºltiplas integraÃ§Ãµes por dia.

Cada integraÃ§Ã£o Ã© automaticamente verificada por meio de um _build_ (construÃ§Ã£o do software) e testes automatizados, detectando problemas de integraÃ§Ã£o.

No ecosistema do GitHub, Ã© possÃ­vel utilizar o serviÃ§o [GitHub Actions](https://github.com/features/actions), o qual permite a criaÃ§Ã£o de um _workflow_ de integraÃ§Ã£o contÃ­nua.

## ConteÃºdos sugeridos ğŸ“š

- [DocumentaÃ§Ã£o oficial do Cypress sobre GitHub Action](https://docs.cypress.io/guides/continuous-integration/github-actions#Cypress-GitHub-Action)
- [DocumentaÃ§Ã£o da imagem cypress-io/github-action no GitHub](https://github.com/cypress-io/github-action#readme)

## ExercÃ­cio ğŸ¯

1. **Na raiz do projeto**, crie um diretÃ³rio oculto chamado `.github/` e dentro dele, crie um subdiretÃ³rio chamado `workflows/`.

> ğŸ‘¨â€ğŸ« VocÃª deve ter a seguinte estrutura `.github/workflows/`

2. Dentro do diretÃ³rio `.github/workflows/`, crie um arquivo chamado `ci.yml`, com o seguinte conteÃºdo:

```yml
name: End-to-end Tests
on: push
jobs:
  tests-linux:
    runs-on: ubuntu-22.04
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Run Cypress Tests ğŸ§ª
        uses: cypress-io/github-action@v6
      - name: HTML Test Report
        uses: actions/upload-artifact@v4
        if: always()
        with:
          name: test-report-linux
          path: cucumber-report.html
          if-no-files-found: ignore

  tests-windows:
    runs-on: windows-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Run Cypress Tests ğŸ§ª
        uses: cypress-io/github-action@v6
      - name: HTML Test Report
        uses: actions/upload-artifact@v4
        if: always()
        with:
          name: test-report-windows
          path: cucumber-report.html
          if-no-files-found: ignore
```

> ğŸ‘¨â€ğŸ« O arquivo `ci.yml` representa um _workflow_ de integraÃ§Ã£o contÃ­nua (_CI_) no GitHub Actions, o qual Ã© responsÃ¡vel por rodar os testes _end-to-end_ em dois sistemas operacionais diferentes paralelamente: Linux e Windows.
>
> Com a execuÃ§Ã£o em diferentes sistemas operacionais, aumenta-se a confiabilidade do projeto, facilitando a identificaÃ§Ã£o de problemas de compatibilidade. AlÃ©m disso, o _upload_ do relatÃ³rio dos testes como artefato permite que os resultados sejam facilmente acessados e analisados a cada execuÃ§Ã£o.
>
> ğŸ‘¨â€ğŸ« O nome do arquivo pode ser qualquer nome aleatÃ³rio. Escolhi `ci` porque significa integraÃ§Ã£o contÃ­nua (em inglÃªs - _continuous integration_).

3. Com o `git`, adicione todas suas alteraÃ§Ãµes Ã  Ã¡rea de _staging_ (`git add .`).
4. FaÃ§a um commit com a mensagem `Configure the CI workflow` (`git commit -m "Configure the CI workflow"`.)
5. Envie suas alteraÃ§Ãµes locais para seu fork remoto no GitHub (`git push origin main`.)
6. Acesse o GitHub e veja suas alteraÃ§Ãµes disparando o _workflow_ (e se tudo der certo, veja seus testes passando).

> ğŸ‘¨â€ğŸ« Lembre-se, vocÃª deve estar trabalhando em seu _fork_, de outra forma, nÃ£o terÃ¡ permissÃ£o para enviar suas mudanÃ§as ao GitHub.

7. ApÃ³s a execuÃ§Ã£o dos testes, baixe os relatÃ³rios gerados como artefatos para explorar o resultado dos testes com mais detalhes.

## ConteÃºdos sugeridos da TAT ğŸ“š

- [_Playlist_ de IntegraÃ§Ã£o ContÃ­nua no Canal TAT no YouTube](https://www.youtube.com/playlist?list=PL-eblSNRj0QHgzdWNkGks9_JdhV9iAwFr)
- [Categoria IntegraÃ§Ã£o ContÃ­nua no blog Talking About Testing](https://talkingabouttesting.com/category/integracao-continua/)

## Mostre ao mundo o que vocÃª aprendeu ğŸŒ

Para mostrar Ã  sua rede profissional o que vocÃª aprendeu nesta aula, publique o seguinte no LinkedIn.

> Estou fazendo o curso "Testes End-to-End com Cypress e Cucumber: Guia Definitivo ğŸ¥’" da escola online Talking About Testing, onde aprendi como configurar uma esteira de integraÃ§Ã£o contÃ­nua que executa os testes paralelamente no Linux e Windows, alÃ©m de gerar relatÃ³rios da execuÃ§Ã£o dos testes como artefatos para anÃ¡lise e investigaÃ§Ã£o. #TalkingAboutTesting #EscolaTAT #Cypress #Cucumber
>
> ğŸ‘¨â€ğŸ« Lembre-se de me marcar em sua publicaÃ§Ã£o. [Aqui estÃ¡ meu perfil no LinkedIn](https://www.linkedin.com/in/walmyr-lima-e-silva-filho).

___

Agora que o _workflow_ de integraÃ§Ã£o contÃ­nua estÃ¡ configurado, vou te apresentar [uma soluÃ§Ã£o simplificada do projeto, porÃ©m sem Cucumber](./13.md).

___

[Voltar para a pÃ¡gina inicial](../README.md)
